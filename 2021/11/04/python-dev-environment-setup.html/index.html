<!DOCTYPE html>
<html lang="en-us" dir="ltr">
  <head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta property="fb:app_id" content="596017104565491" />
<meta name="naver-site-verification" content="cec40b2338ce973c5b5588326daed5c126a0c415" />
<link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://cwyang.github.io/assets/images/go_and_docker.png">
  <meta name="twitter:title" content="Python 환경설정">
  <meta name="twitter:description" content=" conda를 설치한다 conda venv 셋업 $ conda create -n venv_name $ conda activate venv_name ">
      <meta name="twitter:site" content="@cwyang">

<meta property="og:url" content="https://cwyang.github.io/2021/11/04/python-dev-environment-setup.html/">
  <meta property="og:site_name" content="A Tale That Wasn&#39;t Left">
  <meta property="og:title" content="Python 환경설정">
  <meta property="og:description" content=" conda를 설치한다 conda venv 셋업 $ conda create -n venv_name $ conda activate venv_name ">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="jekyll-post">
    <meta property="article:published_time" content="2021-11-04T16:59:00+00:00">
    <meta property="article:modified_time" content="2021-11-04T16:59:00+00:00">
    <meta property="article:tag" content="Blog">
    <meta property="article:tag" content="Emacs">
    <meta property="article:tag" content="Python">
    <meta property="og:image" content="https://cwyang.github.io/assets/images/go_and_docker.png">
        <meta property="fb:admins" content="cwyang89">


<link rel="stylesheet" href="https://cwyang.github.io/css/custom.css">

<title>Python 환경설정 | A Tale That Wasn&#39;t Left</title>


</head>
<body>
  <header>
    
<div class="header">
  <h3><a href="/">A Tale That Wasn&#39;t Left</a></h3>
  <h4><a href="https://www.linkedin.com/in/cwyang89/">양철웅</a>의, 특별히 주제를 정해두지 않은 이야기들</h4>
  <a class="rss" href="/feed.atom">RSS</a>
</div>


  <nav>
    <ul>
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/categories/">Categories</a>
    </li>
    <li>
      <a href="/tags/">Tags</a>
    </li>
    </ul>
  </nav>



  </header>
  <div class=main>
    
<div class="article">
  <h1>Python 환경설정
    <div class="normal">
      <div class="when">
	
        Posted on Thursday, November 4, 2021.
      </div>
    </div>
  </h1>
  <style>
    blockquote {
	padding-left: 0.5em;
	border-left-style: solid;
	border-left-width: 4px;
	border-left-color: #ccf;
    }
  </style>

  <ol>
<li><a href="https://docs.conda.io/en/latest/miniconda.html">conda를 설치한다</a></li>
<li>conda venv 셋업</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ conda create -n venv_name
</span></span><span style="display:flex;"><span>$ conda activate venv_name
</span></span></code></pre></div><ol start="4">
<li>pip 설치 후 패키지 인스톨</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>exp<span style="color:#f92672">)</span> $ conda install -c conda-forge pip
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>exp<span style="color:#f92672">)</span> $ pip install package_name
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>exp<span style="color:#f92672">)</span> $ python --version Python 3.10.0
</span></span></code></pre></div><p>개발에는 파이참이나 이맥스를 이용한다.<br>
이맥스 환경 설정을 정리해 보면:</p>
<ol>
<li><a href="https://jwiegley.github.io/use-package/installation/">use-package</a></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>exp<span style="color:#f92672">)</span> $ emacs --version
</span></span><span style="display:flex;"><span>GNU Emacs 26.3
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>exp<span style="color:#f92672">)</span> $ cat &gt;&gt; .emacs
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>package-initialize<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>require <span style="color:#e6db74">&#39;package)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">(add-to-list &#39;</span>package-archives 
</span></span><span style="display:flex;"><span>         <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;melpa&#34;</span> . <span style="color:#e6db74">&#34;https://melpa.org/packages/&#34;</span><span style="color:#f92672">)</span> t<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>^D
</span></span></code></pre></div><p>이후 emacs 실행후에 다음과 같이 <code>use-package</code>를 설치한다.</p>
<pre tabindex="0"><code>M-x package-refresh-contents RET
M-x package-install RET use-package RET
</code></pre><ol start="3">
<li><a href="https://github.com/jorgenschaefer/elpy">elpy</a> 설치</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(<span style="color:#a6e22e">exp</span>) $ cat &gt;&gt; <span style="color:#f92672">.</span>emacs
</span></span><span style="display:flex;"><span>(require <span style="color:#e6db74">&#39;use-package</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; elpy</span>
</span></span><span style="display:flex;"><span>(use-package elpy
</span></span><span style="display:flex;"><span>  :ensure <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (advice-add <span style="color:#e6db74">&#39;python-mode</span> :before <span style="color:#e6db74">&#39;elpy-enable</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; use flycheck instead of flymake</span>
</span></span><span style="display:flex;"><span>  (when (<span style="color:#a6e22e">load</span> <span style="color:#e6db74">&#34;flycheck&#34;</span> <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>    (setq elpy-modules (<span style="color:#a6e22e">delq</span> <span style="color:#e6db74">&#39;elpy-module-flymake</span> elpy-modules))
</span></span><span style="display:flex;"><span>    (add-hook <span style="color:#e6db74">&#39;elpy-mode-hook</span> <span style="color:#e6db74">&#39;flycheck-mode</span>))
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; flycheck</span>
</span></span><span style="display:flex;"><span>(use-package flycheck
</span></span><span style="display:flex;"><span>  :ensure <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  :config
</span></span><span style="display:flex;"><span>  (global-flycheck-mode <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; note that these bindings are optional</span>
</span></span><span style="display:flex;"><span>  (global-set-key (kbd <span style="color:#e6db74">&#34;C-c n&#34;</span>) <span style="color:#e6db74">&#39;flycheck-next-error</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; this might override a default binding for running a python process,</span>
</span></span><span style="display:flex;"><span>  (global-set-key (kbd <span style="color:#e6db74">&#34;C-c p&#34;</span>) <span style="color:#e6db74">&#39;flycheck-previous-error</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; flycheck-pycheckers</span>
</span></span><span style="display:flex;"><span>(use-package flycheck-pycheckers
</span></span><span style="display:flex;"><span>  :after flycheck
</span></span><span style="display:flex;"><span>  :ensure <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  :init
</span></span><span style="display:flex;"><span>  (with-eval-after-load <span style="color:#e6db74">&#39;flycheck</span>
</span></span><span style="display:flex;"><span>    (add-hook <span style="color:#e6db74">&#39;flycheck-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>flycheck-pycheckers-setup))
</span></span><span style="display:flex;"><span>  (setq flycheck-pycheckers-checkers
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#39;</span>(mypy3 pyflakes))
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>^D
</span></span></code></pre></div><ol start="5">
<li><code>M-x python-mode</code> 실행하면 아래와 같이 Elpy가 활성화 됨.<br>
<img src="https://blog.kakaocdn.net/dn/ev5OMS/btrjQDZRU0q/Ww1vkMwZACTFERgRAQeySK/img.png" alt=""><br>
<code>M-x elpy-config</code>로 설정을 확인하고 해당 화면에서 <code>flake8</code>을 설치한다.</li>
</ol>
<pre tabindex="0"><code>Elpy Configuration
Emacs.............: 26.3
Elpy..............: 1.35.0
Virtualenv........: None
Interactive Python: python3 3.10.0 (/home/merona/miniconda3/envs/exp/bin/python3)
RPC virtualenv....: rpc-venv (/home/merona/.emacs.d/elpy/rpc-venv)
Python...........: python 3.8.10 (/home/merona/.emacs.d/elpy/rpc-venv/bin/python)
Jedi.............: 0.18.0
Autopep8.........: 1.6.0
Yapf.............: 0.31.0
Black............: 21.10b0
Syntax checker....: Not found (flake8)
</code></pre><p>뭔가 꼬여서 잘 안되면 <code>M-x elpy-rpc-reinstall-virtualenv</code> 로 가상환경을 다시 셋업한다.</p>
<ul>
<li>참조: <a href="https://gist.github.com/cwyang/e4683a491fd525e9270fb36bf44ca5a4">https://gist.github.com/cwyang/e4683a491fd525e9270fb36bf44ca5a4</a></li>
</ul>

</div>
<hr>



  <div>
    Tags:
        <a href="/tags/blog/ ">Blog</a>, 
        <a href="/tags/emacs/ ">Emacs</a>, 
        <a href="/tags/python/ ">Python</a>
  </div>


  </div>
  <footer>
    <p>

  </footer>
</body>
</html>
